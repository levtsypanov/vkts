"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),t=require("@vkontakte/vk-bridge"),n=require("i18next"),r=require("i18next-browser-languagedetector"),o=require("react-i18next"),a=require("i18next-http-backend"),i=require("react"),c=require("@vkontakte/vkui");function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u,p=s(t),l=s(n),d=s(r),f=s(a),m=function(t,n,r){var o;if(0===r&&!n.includes("="))return e.__assign(e.__assign({},t),{shortId:parseInt(n,10),shortValue:n});var a=decodeURIComponent(n).split("="),i=a[0],c=a[1];return i?e.__assign(e.__assign({},t),((o={})[i]=c,o)):t},h=window.location.search.replace("?","").split("&").reduce(m,{}),g=window.location.hash,v=function(){return g.replace("#","").replace("?","").split("&").reduce(m,{})},_=parseInt(h.vk_app_id,10),x=parseInt(h.vk_user_id,10);var w=null===(u=h.vk_platform)||void 0===u?void 0:u.includes("desktop"),k=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),y=w&&k;function b(e){if("#"===e[0]){var t=(e.length-1)/3,n=[17,1,.062272][t-1];return[Math.round(parseInt(e.substr(1,t),16)*n),Math.round(parseInt(e.substr(t+1,t),16)*n),Math.round(parseInt(e.substr(2*t+1,t),16)*n)]}return e.split("(")[1].split(")")[0].split(",").map(Number).map(Math.round)}var S=0;var I=l.default.createInstance();I.use(f.default).use(d.default).use(o.initReactI18next).init({fallbackLng:"en",debug:!1,ns:["translations"],defaultNS:"translations",interpolation:{escapeValue:!0}}).then((function(){if(I.languages.every((function(e){return void 0===I.getDataByLanguage(e)})))throw new Error("Failed to load localization")}));var A={};function C(){return e.__awaiter(this,void 0,void 0,(function(){return e.__generator(this,(function(e){return[2,{toggleShowFeed:!1}]}))}))}var N=function(e,t,n,r,o){return o((e%=100)%10==1&&(e<10||e>20)?t:e%10>=2&&e%10<=4&&(e<10||e>20)?n:r)};function T(e){"development"===process.env.NODE_ENV&&console.log(e)}function O(e,t,n,r,o){try{for(var a in e&&e.close(),t+="?",n)t+=encodeURIComponent(a)+"="+encodeURIComponent(n[a])+"&";(e=window.open(t,r,o)).focus()}catch(e){alert("Sharing error: "+e.message)}}function V(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var r=t[n].split("=");if(window.decodeURIComponent(r[0])===e)return window.decodeURIComponent(r[1])}}function P(){var e=window.navigator.userAgent.toLowerCase(),t=e.match(/android\s([0-9\.]*)/);return-1===e.indexOf("chrome/6")&&(!!t&&parseInt(t[1],10))}function E(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return parseInt(e[1],10)}return!1}function R(t,n){return e.__awaiter(this,void 0,void 0,(function(){var r,o;return e.__generator(this,(function(e){switch(e.label){case 0:return[4,p.default.send("VKWebAppCallAPIMethod",{method:"groups.getTokenPermissions",params:{v:"5.103",access_token:t}})];case 1:return r=e.sent().response,o=r.permissions.map((function(e){return e.name})),[2,n.every((function(e){return o.includes(e)}))]}}))}))}var L;function M(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.__awaiter(this,void 0,void 0,(function(){return e.__generator(this,(function(e){switch(e.label){case 0:return[4,p.default.send("VKWebAppStorageGet",{keys:t})];case 1:return[2,e.sent().keys.reduce((function(e,t){try{e[t.key]=JSON.parse(decodeURIComponent(t.value))}catch(e){}return e}),{})]}}))}))}function j(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.__awaiter(this,void 0,void 0,(function(){return e.__generator(this,(function(e){switch(e.label){case 0:return[4,Promise.all(t.map((function(e){return p.default.send("VKWebAppStorageSet",{key:e,value:""})})))];case 1:return e.sent(),[2]}}))}))}function U(e,t){t.callVkMethod("statEvents.addMiniApps",{events:JSON.stringify(e.map((function(e){var n,r=e.event,o=e.type,a=e.payload,i=e.timestamp;return(n={user_id:t.userId,mini_app_id:t.appId,type:o})[o]={type:"type_mini_app_custom_event_item"},n.url=t.url,n.vk_platform=t.platform,n.event=r,n.json=JSON.stringify(a||""),n.timestamp=i,n})))}).catch((function(e){console.warn("[sendStatEvents error]",e)}))}exports.StorageField=void 0,(L=exports.StorageField||(exports.StorageField={})).ApplicationVisited="application-visited",L.OnboardingCompleted="onboarding-completed",L.TodoToolTipSeen="todo-tooltip-seen",L.MainToolTipSeen="main-tooltip-seen",L.IsAskedAboutNotify="asked-notificatiions",L.IsWorkingWithNotifyViaBackend="is-working-with-notify-via-backend";var W,D,F;exports.StatEventType=void 0,(W=exports.StatEventType||(exports.StatEventType={})).Navgo="type_navgo",W.View="type_view",W.Click="type_click",function(e){e[e.TokenCreatedToAnotherAddress=5]="TokenCreatedToAnotherAddress"}(D||(D={})),exports.VkClientType=void 0,(F=exports.VkClientType||(exports.VkClientType={})).Navgo="type_navgo",F.View="type_view",F.Click="type_click";var q;exports.LanguageNamespace=void 0,(q=exports.LanguageNamespace||(exports.LanguageNamespace={})).TRANSLATION="translation",q.COMMON="common",q.CONFIG="config";var K=[["amp","&"],["apos","'"],["#x27","'"],["#x2F","/"],["#39","'"],["#47","/"],["lt","<"],["gt",">"],["nbsp"," "],["quot",'"']];function B(e){for(var t=0,n=K.length;t<n;t++)e=e.replace(new RegExp("&"+K[t][0]+";","g"),K[t][1]);return e}function G(e,t,n){var r={};r[exports.LanguageNamespace.CONFIG]=e.config;var o=function(t){var n=e.keys[t];"string"==typeof n?e.keys[t]=B(n):Array.isArray(n)&&"string"==typeof n[0]&&n.forEach((function(n,r){e.keys[t][r]=B(n)}))};for(var a in e.keys)o(a);Object.entries(e.keys).forEach((function(e){var t=e[0],o=e[1],a=function(e,t){return e.startsWith(t)?[exports.LanguageNamespace.TRANSLATION,e.slice(t.length+1)]:e.startsWith("vkui_common")?[exports.LanguageNamespace.COMMON,e.slice("vkui_common".length+1)]:null}(t,n);if(a){var i=a[0],c=a[1];r[i]=r[i]||{},"object"==typeof r[i]&&(r[i][c]=o)}}),r);var i=r[exports.LanguageNamespace.TRANSLATION];return i&&Object.entries(i).forEach((function(e){var t=e[0],n=e[1];if(Array.isArray(n)){var r=function(e,t){switch(t.length){case 0:return[];case 1:return[[e,t[0]]];case 2:return[[e,t[0]],["".concat(e,"_plural"),t[1]]];default:return t.map((function(t,n){return["".concat(e,"_").concat(n),t]}))}}(t,n.splice(1));delete i[t],r.forEach((function(e){var t=e[0],n=e[1];i[t]=n}))}})),t!==exports.LanguageNamespace.TRANSLATION&&(r[t]=r[exports.LanguageNamespace.TRANSLATION],delete r[exports.LanguageNamespace.TRANSLATION]),r}var H=function(e){return Array.isArray(e)?e:[e]};function J(e){return Boolean(e&&"object"==typeof e&&"string"==typeof e.name&&"string"==typeof e.defaultNsPrefix&&(void 0===e.source||["vk","fallback"].includes(e.source))&&["function","undefined"].includes(typeof e.fallback)&&("fallback"!==e.source||"function"==typeof e.fallback))}var Y=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e.__extends(n,t),n}(Error),Q=function(){function e(){this.type="backend",this.backendOptions={name:"name",defaultNsPrefix:"name"},this.services={},this.defaultNs="translation"}return e.prototype.init=function(e,t,n){if(!J(t))throw new Y("Объект backend не соответствует интерфейсу BackendOptions");this.backendOptions=t,e.resourceStore.options.fallbackLng=!1,e.resourceStore.options.interpolation={prefix:"{",suffix:"}"},e.interpolator.reset(),this.services=e,this.defaultNs=H(n.defaultNS||this.defaultNs)[0]},e.prototype.read=function(t,n,r){var o=this,a=this.backendOptions,i=a.fallback,c=a.name;({vk:function(){return e.fetchRawResourceLanguage(c,t).catch((function(e){return i?i(t):Promise.reject(e)}))},fallback:function(){return i?i(t):Promise.reject(new Y("Поле fallback у объекта backend не было получено"))}})[a.source||e.DEFAULT_SOURCE]().then((function(e){var a=G(e,o.defaultNs,o.backendOptions.defaultNsPrefix);o.services.resourceStore.data[t]=a,r(null,a[n])})).catch((function(){r(new Y("Ошибка загрузки словаря через платформу переводов ВК"),!1)}))},e.fetchRawResourceLanguage=function(e,t){var n=encodeURIComponent(e),r=encodeURIComponent(t),o="https://vk.com/js/vkui_lang.js?name=".concat(n,"&lang=").concat(r,"&format=json");return fetch(o).then((function(e){return e.json()}))},e.prototype.create=function(){},e.type="backend",e.DEFAULT_SOURCE="vk",e}();!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}e.__extends(n,t)}(Error),exports.Backend=Q,exports.Detection=Q,exports.TimeConverter=function(e,t){var n=new Date(1e3*e),r="";return e?(r=n.getDate()+".",r+=n.getMonth()<10?"0"+(n.getMonth()+1):n.getMonth()+1,r+="."+n.getFullYear()+" "+n.getHours()+":",r+=n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes()):r=t,r},exports._inlineShare=O,exports.appId=_,exports.arrify=H,exports.blackedColor=function(e,t){var n=b("#000000"),r=n[0],o=n[1],a=n[2],i=b(e),c=i[0],s=i[1],u=i[2];return"#".concat([c+(r-c)*t,s+(o-s)*t,u+(a-u)*t].map(Math.round).map((function(e){return e.toString(16).padStart(2,"0")})).join(""))},exports.chunk=function(e,t){for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n},exports.copy=function(e){var t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t)},exports.createStatEventsInstance=function(e,t,n){void 0===n&&(n={});var r=n.batchInterval,o=[],a=setInterval((function(){o.length>0&&(U(o,t),o.length=0)}),void 0===r?3e3:r);return{push:function(t,n){o.push({event:String(t),type:e[t].type,payload:n,timestamp:Date.now()})},send:function(n,r){U([{event:String(n),type:e[n].type,payload:r,timestamp:Date.now()}],t)},destroy:function(){clearInterval(a)}}},exports.createUseNullableContext=function(e,t){return function(){var n=i.useContext(t);if(!n)throw new Error("Hook ".concat(e," was called outside of context provider context"));return n}},exports.createVkClientInstance=function(t){var n,r=t.scope||[],o=t.v,a=t.appId;function i(){return p.default.send("VKWebAppGetAuthToken",{scope:r.join(","),app_id:a}).then((function(e){return e.access_token}))}return{call:function(t,r){return e.__awaiter(this,void 0,void 0,(function(){function a(){return p.default.send("VKWebAppCallAPIMethod",{method:t,params:e.__assign({v:o,access_token:n},r)}).then((function(e){return e.response}))}var c=this;return e.__generator(this,(function(t){switch(t.label){case 0:return n?[3,2]:[4,i().catch((function(e){throw console.warn("[callVkMethod error while getting accessToken]",e),e}))];case 1:n=t.sent(),t.label=2;case 2:return[2,a().catch((function(t){return e.__awaiter(c,void 0,void 0,(function(){return e.__generator(this,(function(e){switch(e.label){case 0:return console.warn("[callVkMethod error]",t),t&&t.error_data.error_reason&&t.error_data.error_reason&&t.error_data.error_reason.error_code===D.TokenCreatedToAnotherAddress?[4,i().catch((function(){return Promise.reject(t)}))]:[3,2];case 1:return n=e.sent(),[2,a()];case 2:return[2,Promise.reject(t)]}}))}))}))]}}))}))}}},exports.currentScheme=function(){var e=V("scheme");return"amoled"===e?"amoled":"dark"===e?c.Scheme.SPACE_GRAY:""===e?c.Scheme.BRIGHT_LIGHT:"not all"!==window.matchMedia("(prefers-color-scheme)").media&&window.matchMedia("(prefers-color-scheme: dark)").matches?c.Scheme.SPACE_GRAY:c.Scheme.BRIGHT_LIGHT},exports.declOfNum=function(e,t){return t[e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]]},exports.desktopShare=function(e,t,n,r){void 0===r&&(r="");var o={title:n,image:t,noparse:"1",comment:r},a="_blank",i=Math.max(0,(window.screen.width-650)/2),c=Math.max(0,(window.screen.height-610)/2),s="https://vk.com/share.php?url="+encodeURIComponent(e),u="width=650,height=610,left="+i+",top="+c+",menubar=0,toolbar=0,location=0,status=0",p=!1;try{var l="",d="";try{l=document.domain,d=window.location.host}catch(e){}if(l!==d){var f=window.navigator.userAgent.toLowerCase();!/opera/i.test(f)&&/msie/i.test(f)&&O(p,s,o)}p=window.open("",a,u);var m='<form accept-charset="UTF-8" action="'+s+'" method="POST" id="share_form">';for(var h in o)m+='<input type="hidden" name="'+h+'" value="'+o[h].toString().replace(/"/g,"&myquot;").replace(/&quot/gi,"&myquot")+'" />';m+="</form>",m='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="content-type" content="text/html; charset=UTF-8" /></head><body>'+(m+='<script type="text/javascript">document.getElementById("share_form").submit()<\/script>')+"</body></html>",p.document.write(m),p.focus()}catch(e){O(p,s,o,a,u)}},exports.devErrorLog=function(e){"development"===process.env.NODE_ENV&&console.error(e)},exports.devLog=T,exports.dropStorage=function(){return j.apply(void 0,Object.values(exports.StorageField))},exports.dropStorageValues=j,exports.dynamicSort=function(e){var t=1;return"-"===e[0]&&(t=-1,e=e.substr(1)),function(n,r){return(n[e]>r[e]?-1:n[e]>r[e]?1:0)*t}},exports.findObjectById=function(e,t){var n=e.find((function(e){return e.id===t}));return n||!1},exports.findObjectIndex=function(e,t){var n=e.findIndex((function(e){return e.id===t}));return-1!==n&&n},exports.formatResourceLanguage=G,exports.fullScreen=function(){var e=document.querySelector("html");document.fullscreenElement?document.exitFullscreen():e.requestFullscreen().catch((function(e){T("Error attempting to enable full-screen mode: ".concat(e.message," (").concat(e.name,")"))}))},exports.getAndroidVersion=P,exports.getCommunityToken=function(t,n,r){return e.__awaiter(this,void 0,void 0,(function(){return e.__generator(this,(function(e){switch(e.label){case 0:return[4,p.default.send("VKWebAppGetCommunityToken",{app_id:t,group_id:n,scope:r.join()}).then((function(e){return e.access_token})).catch((function(e){if(e&&e.error_data&&4===e.error_data.error_code)return null;throw e}))];case 1:return[2,e.sent()]}}))}))},exports.getCurrencyAmount=function(e){var t=e.split("");return+"".concat(t.slice(0,t.length-2).join(""),".").concat(t.slice(-2).join(""))},exports.getCurrentHashParams=function(){return window.location.hash.replace("#","").replace("?","").split("&").reduce(m,{})},exports.getDefaultToggles=C,exports.getGeodata=function(e){var t=performance.now();return p.default.send("VKWebAppGetGeodata").then((function(e){return e.available?{permission:"available",lat:e.lat,long:e.long}:{permission:"denied"}})).catch((function(){return performance.now()-t<=600?{permission:"denied"}:e?{permission:(S+=1)<=15?"prompt":"denied"}:"permissions"in navigator?navigator.permissions.query({name:"geolocation"}).then((function(e){return{permission:"prompt"===e.state?"prompt":"denied"}})):{permission:"denied"}}))},exports.getHash=function(){var e,t=window.location.href.replace("?","").split("#");return t[1]&&(e=t[1].replace("#","").split("&").reduce((function(e,t){var n=t.split("=");return e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]),e}),{})),e||!1},exports.getInitialHashParams=v,exports.getInsets=function(){var e=getComputedStyle(document.documentElement);return{top:parseInt(e.getPropertyValue("--safe-area-inset-top")),bottom:parseInt(e.getPropertyValue("--safe-area-inset-bottom")),left:parseInt(e.getPropertyValue("--safe-area-inset-left")),right:parseInt(e.getPropertyValue("--safe-area-inset-right"))}},exports.getIosVersion=E,exports.getLangPlural=function(e,t,n){return"".concat(e," ").concat(N(e,"".concat(t,".0"),"".concat(t,".1"),"".concat(t,".2"),n))},exports.getLaunchParamsVkLanguage=function(e){var t=e.split("&").map((function(e){return e.split("=")})).find((function(e){return"vk_language"===e[0]}));return t&&t[1]?t[1]:void 0},exports.getLocalStorage=function(e){try{return void 0!==window.localStorage&&localStorage.getItem(e)}catch(e){return console.log(e),!1}},exports.getNewRequestId=function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString()},exports.getNiceDate=function(e,t,n){var r=new Date(1e3*e),o=r.getDate(),a=r.getMonth(),i=r.getFullYear(),c=r.getHours(),s=r.getMinutes(),u=[t("vkui_common_months_of.0"),t("vkui_common_months_of.1"),t("vkui_common_months_of.2"),t("vkui_common_months_of.3"),t("vkui_common_months_of.4"),t("vkui_common_months_of.5"),t("vkui_common_months_of.6"),t("vkui_common_months_of.7"),t("vkui_common_months_of.8"),t("vkui_common_months_of.9"),t("vkui_common_months_of.10"),t("vkui_common_months_of.11")];return"".concat(o," ").concat(u[a]," ").concat(i," ").concat(n?"в ".concat(c,":").concat(s):"")},exports.getParams=function(){return window.location.search.replace("?","").split("&").reduce((function(e,t){var n=t.split("=");return e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]),e}),{})},exports.getPlatform=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(window.navigator.userAgent)?"phone":"computer"},exports.getQueryVariable=V,exports.getStorage=function(){return M.apply(void 0,Object.values(exports.StorageField))},exports.getStorageValues=M,exports.getUtmParamsQueryString=function(){var e=v();return Object.keys(e).filter((function(e){return null==e?void 0:e.includes("utm_")})).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")},exports.getValidCommunityToken=function(t,n,r){return e.__awaiter(this,void 0,void 0,(function(){var o;return e.__generator(this,(function(e){switch(e.label){case 0:return[4,p.default.send("VKWebAppGetCommunityToken",{app_id:t,group_id:n,scope:r.join()}).then((function(e){return e.access_token})).catch((function(e){if(e&&e.error_data&&4===e.error_data.error_code)return null;throw e}))];case 1:return(o=e.sent())?[4,R(o,r).catch((function(){throw new Error("Не удалось получить ключ доступа сообщества")}))]:[2,null];case 2:if(!e.sent())throw new Error("У ключа доступа нет прав на работу с виджетом");return[2,o]}}))}))},exports.getVkGroupScreenNames=function(e,t){var n=e.join(",");return n in A||(A[n]=p.default.send("VKWebAppCallAPIMethod",{method:"groups.getById",params:{group_ids:n,v:"5.126",access_token:t}}).then((function(e){return e.response.map((function(e){return e.screen_name}))})).catch((function(){return e.map((function(e){return"club".concat(e)}))}))),A[n]},exports.incline=function(e,t,n,r){var o=Math.abs(e)%100;return o>=5&&o<=20?r:1===(o%=10)?t:o>=2&&o<=4?n:r},exports.isDesktopSafari=y,exports.isDesktopVk=w,exports.isDeviceSupported=function(){return!(P()&&P()<=4)||E()&&E()<=8},exports.isJsonString=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},exports.isKeyInObj=function(e,t){return!!e&&(void 0!==e[t]&&e[t])},exports.isRetina=function(){return window.devicePixelRatio>1},exports.isSafari=k,exports.loadAppToggles=function(e){return e.call("execute.toggles").then((function(e){return{toggleShowFeed:!!e.toggleShowFeed}})).catch((function(e){return console.warn("Fail load execute.toggles use default toggles",e),C()}))},exports.openApplication=function(e,t){void 0===t&&(t={});var n=t.groupId,r=t.hash,o=t.mVk,a="https://".concat(o?"m.":"","vk.com/app").concat(e).concat(n?"_-"+n:"").concat(r?"#"+r:""),i=document.createElement("a");i.setAttribute("href",a),i.setAttribute("target","_parent"),i.click()},exports.openPhoneCall=function(e){var t=document.createElement("a");t.setAttribute("href","tel:".concat(e)),t.setAttribute("target","_blank"),t.click()},exports.openWallPost=function(e,t,n){Promise.resolve().then((function(){return p.default.supports("VKWebAppOpenWallPost")||n?p.default.send("VKWebAppOpenWallPost",{owner_id:e,post_id:t}):Promise.reject()})).catch((function(){var r="https://".concat(n?"":"m.","vk.com/wall").concat(e,"_").concat(t),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("target","_blank"),o.click()}))},exports.parseColor=b,exports.parseQueryParams=function(e){return e.substring(1).split("&").map((function(e){return e.split("=").map(decodeURIComponent)})).filter((function(e){return e[1]})).reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},exports.queryParams=h,exports.randomInteger=function(e,t){return Math.floor(e+Math.random()*(t+1-e))},exports.reduceHandler=m,exports.setLocalStorage=function(e,t){try{void 0!==window.localStorage?localStorage.setItem(e,t):console.log("localStorage не поддерживается")}catch(e){console.log(e)}},exports.setStorageValue=function(t,n){return e.__awaiter(this,void 0,void 0,(function(){return e.__generator(this,(function(e){switch(e.label){case 0:return[4,p.default.send("VKWebAppStorageSet",{key:t,value:encodeURIComponent(JSON.stringify(n))})];case 1:return e.sent(),[2]}}))}))},exports.setStorageValues=function(t){return e.__awaiter(this,void 0,void 0,(function(){return e.__generator(this,(function(e){switch(e.label){case 0:return[4,Promise.all(Object.entries(t).map((function(e){var t=e[0],n=e[1];return p.default.send("VKWebAppStorageSet",{key:t,value:encodeURIComponent(JSON.stringify(n))})})))];case 1:return e.sent(),[2]}}))}))},exports.stringifyQueryParams=function(e){return"?".concat(Object.entries(e).filter((function(e){return e})).map((function(e){return e.map(encodeURIComponent).join("=")})).join("&"))},exports.tapticNotification=function(t){return e.__awaiter(this,void 0,void 0,(function(){return e.__generator(this,(function(e){return p.default.supports("VKWebAppTapticNotificationOccurred")?[2,p.default.send("VKWebAppTapticNotificationOccurred",{type:t})]:[2]}))}))},exports.tapticSelectionChanged=function(){return e.__awaiter(this,void 0,void 0,(function(){return e.__generator(this,(function(e){return p.default.supports("VKWebAppTapticSelectionChanged")?[2,p.default.send("VKWebAppTapticSelectionChanged",{})]:[2]}))}))},exports.throwDevError=function(e){if("development"===process.env.NODE_ENV)throw e},exports.unique=function(e){for(var t={},n=0;n<e.length;n++){t[e[n]]=!0}return Object.keys(t)},exports.userId=x,exports.validateBackendOptions=J,exports.validateCommunityTokenScope=R,exports.validateDetectionOptions=function(e){return Boolean(e&&"object"==typeof e&&["string","undefined"].includes(typeof e.fallbackLng)&&["string","undefined"].includes(typeof e.launchParams)&&(void 0===e.supportedLanguages||Array.isArray(e.supportedLanguages)))},exports.wordPad=N;
//# sourceMappingURL=index.js.map
